<?php

namespace Anteris\Autotask\Support;

use Attribute;
use Carbon\Carbon;
use EventSauce\ObjectHydrator\ObjectMapper;
use EventSauce\ObjectHydrator\PropertyCaster;

#[Attribute(Attribute::TARGET_PARAMETER)]
class CastCarbon implements PropertyCaster
{
    public function __construct()
    {}

    public function cast(mixed $value, ObjectMapper $mapper): mixed
    {
        if(!is_null($value)) {
            return new Carbon($value);
        }
    }
}
